# EFF Membership Management System - PostgreSQL Environment Configuration
# Copy this file to .env and update the values as needed

# =============================================================================
# PostgreSQL Database Configuration
# =============================================================================
POSTGRES_USER=eff_admin
POSTGRES_PASSWORD=Frames!123
POSTGRES_DB=eff_membership_db
POSTGRES_HOST_PORT=5432

# Database connection settings for application
DB_HOST=localhost
DB_PORT=5432
DB_USER=eff_admin
DB_PASSWORD=ChangeThis!SuperSecure123
DB_NAME=eff_membership_db
DB_CONNECTION_LIMIT=20
DB_TIMEOUT=30000

# =============================================================================
# pgAdmin Configuration
# =============================================================================
PGADMIN_DEFAULT_EMAIL=admin@eff.local
PGADMIN_DEFAULT_PASSWORD=Frames!123
PGADMIN_HOST_PORT=5050

# =============================================================================
# Redis Configuration (Optional)
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_HOST_PORT=6379

# =============================================================================
# Backup Configuration
# =============================================================================
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_COMPRESSION=gzip

# =============================================================================
# Nginx Configuration (Optional)
# =============================================================================
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# =============================================================================
# Application Configuration
# =============================================================================
# Server Configuration
PORT=8000
NODE_ENV=development
API_PREFIX=/api
API_VERSION=v1

# Security Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-postgresql
BCRYPT_ROUNDS=12

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# CORS Configuration
CORS_ORIGIN=http://localhost:3000

# Logging
LOG_LEVEL=info
LOG_FILE=logs/app.log

# Cache Configuration
CACHE_ENABLED=true
CACHE_DEFAULT_TTL=1800
CACHE_ANALYTICS_TTL=3600
CACHE_STATISTICS_TTL=1800
CACHE_MEMBER_TTL=900
CACHE_LOOKUP_TTL=86400

# =============================================================================
# SMS Configuration
# =============================================================================
# Supported providers: mock, json-applink, twilio, clickatell, gateway, smpp
# SMS Configuration
# Set to 'true' to enable SMS sending, 'false' to disable
# When disabled, all SMS sending attempts will be blocked
SMS_ENABLED=false

# SMS Provider Selection
# Options: json-applink, twilio, clickatell, gateway, smpp, mock
SMS_PROVIDER=json-applink

# JSON Applink SMS Provider Configuration (JSON SMS API)
# Updated credentials from JSON Applink support
JSON_APPLINK_API_URL=https://gvrhvm15.vine.co.za/jsonapplink/v2/send/sms/
JSON_APPLINK_AUTH_CODE=EFFAPPLINK
JSON_APPLINK_AFFILIATE_CODE=INT001-1161-001
JSON_APPLINK_USER=AppLink
JSON_APPLINK_FROM_NUMBER=+27123456789
JSON_APPLINK_RATE_LIMIT=100

# Legacy fields (kept for backward compatibility)
JSON_APPLINK_API_KEY=EFFAPPLINK
JSON_APPLINK_USERNAME=AppLink
JSON_APPLINK_PASSWORD=

# SMS Webhook Configuration
# Webhook URL for delivery status callbacks from SMS provider
SMS_CALLBACK_URL=http://localhost:8000/api/v1/sms-webhooks/delivery/json-applink

# Twilio SMS Configuration (Alternative Provider)
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_FROM_NUMBER=+1234567890

# Clickatell SMS Configuration (Alternative Provider)
CLICKATELL_API_KEY=your_clickatell_api_key

# Generic SMS Gateway Configuration (Alternative Provider)
SMS_GATEWAY_URL=https://api.your-sms-provider.com/send
SMS_GATEWAY_API_KEY=
SMS_GATEWAY_USERNAME=your_gateway_username
SMS_GATEWAY_PASSWORD=your_gateway_password

# SMPP Configuration (for direct carrier connections)
SMPP_HOST=smpp.your-provider.com
SMPP_PORT=2775
SMPP_SYSTEM_ID=your_system_id
SMPP_PASSWORD=your_smpp_password
SMPP_SYSTEM_TYPE=your_system_type

# SMPP Address Configuration
SMPP_ADDR_TON=0
SMPP_ADDR_NPI=0
SMPP_ADDRESS_RANGE=

# SMPP Message Configuration
SMPP_SOURCE_ADDR_TON=1
SMPP_SOURCE_ADDR_NPI=1
SMPP_DEST_ADDR_TON=1
SMPP_DEST_ADDR_NPI=1
SMPP_DATA_CODING=0
SMPP_DEFAULT_SENDER=GEOMAPS

# SMPP Options
SMPP_DELIVERY_RECEIPT=true
SMPP_DEBUG=false
SMPP_ENQUIRE_LINK_PERIOD=30000

# =============================================================================
# Email Configuration
# =============================================================================
#MAIL_DRIVER=smtp
#MAIL_HOST=smtp.gmail.com
#MAIL_PORT=587
#MAIL_USERNAME=your-email@gmail.com
#MAIL_PASSWORD=your-app-password
#MAIL_ENCRYPTION=tls
#MAIL_FROM_ADDRESS=noreply@eff.org.za
#MAIL_FROM_NAME="EFF Membership System"

# =============================================================================
# File Upload Configuration
# =============================================================================
UPLOAD_MAX_SIZE=10485760
UPLOAD_ALLOWED_TYPES=jpg,jpeg,png,pdf,doc,docx
UPLOAD_PATH=uploads
TEMP_PATH=temp

#s =============================================================================
# Payment Gateway Configuration
# =============================================================================
# Peach Payments
PEACH_USER_ID=your_peach_user_id
PEACH_PASSWORD=your_peach_password
PEACH_ENTITY_ID=your_peach_entity_id
PEACH_TEST_MODE=true

# PayFast
PAYFAST_MERCHANT_ID=your_payfast_merchant_id
PAYFAST_MERCHANT_KEY=your_payfast_merchant_key
PAYFAST_PASSPHRASE=your_payfast_passphrase
PAYFAST_TEST_MODE=true

# =============================================================================
# External API Configuration
# =============================================================================
# IEC API Configuration
IEC_API_USERNAME=your_iec_username
IEC_API_PASSWORD=your_iec_password
IEC_API_BASE_URL=https://api.elections.org.za

# =============================================================================
# Monitoring and Analytics
# =============================================================================
# Application Performance Monitoring
APM_ENABLED=false
APM_SERVICE_NAME=eff-membership-system
APM_SERVER_URL=http://localhost:8200

# Analytics
ANALYTICS_ENABLED=true
ANALYTICS_PROVIDER=internal

# =============================================================================
# Development and Testing
# =============================================================================
# Debug Configuration
DEBUG=false
DEBUG_SQL=false
DEBUG_CACHE=false

# Testing Configuration
TEST_DB_NAME=eff_membership_test
TEST_DB_USER=eff_test
TEST_DB_PASSWORD=test_password

# Seeding Configuration
SEED_SAMPLE_DATA=false
SEED_ADMIN_EMAIL=admin@eff.local
SEED_ADMIN_PASSWORD=admin123

# =============================================================================
# Security Headers and HTTPS
# =============================================================================
FORCE_HTTPS=false
HSTS_MAX_AGE=31536000
CONTENT_SECURITY_POLICY=default-src 'self'

# =============================================================================
# Session Configuration
# =============================================================================
SESSION_DRIVER=redis
SESSION_LIFETIME=120
SESSION_ENCRYPT=true
SESSION_COOKIE_NAME=eff_membership_session

MAIL_DRIVER=smtp
MAIL_HOST=mail.bakkie-connect.co.za
MAIL_PORT=587
MAIL_USERNAME=effmembership@bakkie-connect.co.za
MAIL_PASSWORD=EFF2@xza123
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=effmembership@bakkie-connect.co.za
MAIL_FROM_NAME="EFF Membership System"
